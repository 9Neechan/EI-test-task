## **Тестовое задание**

Допустим, у нас есть множество AI сервисов которые могут вызывать разные пользователи. Необходимо написать два микросервиса на Go для сбора и отдачи статистики по вызываемым AI сервисам. Микросервисы должны общаться между собой по Grpc.

## Задачи **первого** микросервиса:

* Хранить и обновлять в базе данных информацию о количестве вызовах;  
* Предоставлять grpc методы для второго микросервиса. 

Примерная структура бд:  
1\. Таблица services (id, name, description);  
2\. Таблица users (id, name);  
3\. Таблица stats (user\_id, count, service\_id);  
Где count \- количество вызовов (целочисленное число).

Задачи **второго** микросервиса:

* Должен иметь несколько api хендлеров:  
1. POST /call \- для информирования о новом вызове (на вход дается user\_id и service\_id);  
2. GET /calls \- получение статистики по user\_id и/или service\_id (должны быть фильтры и пагинация);  
3. POST /service \- для добавления нового сервиса.  
* При вызове хэндлеров мы должны обратиться по grpc ко второму сервису для получения или изменения информации.

### **Примечания:**

* Заполните таблицы тестовыми данными самостоятельно (или напишите скрипт для автоматизации);  
* Используйте postgres или mysql **без ORM**;  
* Выбор библиотек не ограничен, но лучше использовать актуальные и поддерживаемые инструменты;  
* Proto файл напишите самостоятельно;  
* Опубликовать проект надо на Github или Gitlab;  
* Напишите Dockerfile/Docker-compose для проекта.

### **Примерные критерии оценки или на что стоит обратить внимание:**

* Объем реализованного функционала;  
* Архитектура и структура проекта;  
* Читаемость и чистота кода.

### **Дополнение (реализация по желанию):**

Добавить параметр для сервисов: цена вызова. Метод GET /calls должен возвращать еще и сколько суммарно заплатили за вызовы учитывая    фильтры. (То-есть если передается конкретный user\_id то метод должен вернуть сколько один пользователь потратил денег на вызовы и тд).